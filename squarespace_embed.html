<!-- 
  JOHNNY REALTIME VOICE WIDGET 
  Copy this snippet into a Squarespace "Code Block".
  1. Set Mode to "HTML"
  2. Turn OFF "Display Source"
-->

<!-- Styles -->
<link rel="stylesheet" href="https://johnny-chat.onrender.com/voice-widget.css">

<!-- Logic -->
<script src="https://cdn.jsdelivr.net/npm/@elevenlabs/client/dist/elevenlabs-client.umd.js"></script>
<script src="https://johnny-chat.onrender.com/voice-widget.js"></script>

<!-- Diagnostic Check (Invisible if working) -->
<div id="johnny-loading-check"
    style="position:fixed; bottom:10px; right:10px; font-size:10px; color:#64748b; opacity:0.5; z-index:9999;">
    Johnny Voice Widget Loading...
</div>
<script>
    window.addEventListener('load', () => {
        setTimeout(() => {
            if (window.johnnyInitialized) {
                document.getElementById('johnny-loading-check').style.display = 'none';
            } else {
                document.getElementById('johnny-loading-check').innerHTML = '⚠️ Johnny Widget failed to load from Render. Check your Render URL.';
                document.getElementById('johnny-loading-check').style.opacity = '1';
                document.getElementById('johnny-loading-check').style.color = 'red';
            }
        }, 5000);
    });
</script>